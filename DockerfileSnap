from tesselo-worker

# Download snap installer version 7.0 and install.
RUN curl -O http://step.esa.int/downloads/7.0/installers/esa-snap_sentinel_unix_7_0.sh && \
  sh esa-snap_sentinel_unix_7_0.sh -q && \
  rm esa-snap_sentinel_unix_7_0.sh

# Update snap.
RUN snap --nosplash --nogui --modules --update-all

# Set gpt max memory (try thies setting with gpt --diag).
RUN echo -Xmx29G > /usr/local/snap/bin/gpt.vmoptions

# Link gpt so it can be used systemwide.
RUN ln -s /usr/local/snap/bin/gpt /usr/bin/gpt
